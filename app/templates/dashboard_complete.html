{% extends "base.html" %}

{% block title %}
Dashboard
{% endblock %}

{% block content %}

<div class="container mt-5 mb-5 text-center">
    <a href="{{ url_for('main.new_task') }}" class="btn btn-primary">NEW TASK</a>
</div>

<div class="card text-center">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item mr-2">
                <a class="nav-link"  href="{{ url_for('main.dashboard') }}">To-do</a>
            </li>
            <li class="nav-item mr-2">
                <a class="nav-link " href="{{ url_for('main.dashboard_in_progress') }}">In Progress</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="true" href="#" style="background-color: rgb(0,123,255); color: white;">Done</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid d-flex flex-row flex-wrap p-3">
        {% for task in tasks %}
        {% if task.status.value == 'Done' %}
        <div class="card m-2" style="max-width: 18rem;">
            <h5 class="card-header text-left" style="background-color: rgb(0,123,255); color: white;"">{{task.title}}</h5>
                    <div class=" card-body">
                <p class="card-text text-left">{{ task.description }}</p>
                <div class="container-fluid d-flex justify-content-center">
                    <a href="{{ url_for('main.update_task', task_id=task.id) }}" class="btn btn-primary mr-2">Edit</a>
                    <form method="POST" action="{{ url_for('main.delete_task', task_id=task.id) }}">
                        <button type="submit" class="btn btn-danger" onclick="return confirmDelete()">Delete</button>
                    </form>
                </div>
        </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>



{% endblock %}

{% block scripts %}

<script>
    function confirmDelete() {
        return confirm("Are you sure you want to delete this task?");
    }
</script>

{% endblock %}